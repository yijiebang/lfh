(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09c8e906"],{"071c":function(e,t,r){e.exports=r.p+"img/login-bg3.e8acda07.png"},"082f":function(e,t,r){},"62cf":function(e,t,r){"use strict";var o=r("082f"),a=r.n(o);a.a},"71a8":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"panel-wrapper"},[e._m(0),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"panel-content"},[r("v-app",{staticClass:"login-con"},[r("v-content",[r("base-langbar"),e._v(" "),r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{staticClass:"frame"},[e.isMobile?e._e():r("h1",[e._v("\n                "+e._s(e.$t("common.loginN"))+"\n              ")]),e._v(" "),r("v-form",[r("v-text-field",{attrs:{"prepend-icon":"person","error-messages":e.userErrors,clearable:"",label:e.$t("common.username"),required:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.username.$model"}}),e._v(" "),r("v-text-field",{attrs:{"prepend-icon":"lock","error-messages":e.passErrors,"append-icon":e.showPwd?"visibility_off":"visibility",type:e.showPwd?"text":"password",label:e.$t("common.password"),required:""},on:{"click:append":function(t){e.showPwd=!e.showPwd}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.password.$model"}}),e._v(" "),r("v-layout",{attrs:{column:"",wrap:"","justify-end":"","align-end":""}},[r("v-flex",[r("v-btn",{attrs:{flat:"",small:"",color:"primary"},on:{click:e.redirectForgotPassword}},[e._v("\n                      "+e._s(e.$t("common.forgetPassword"))+"\n                    ")])],1),e._v(" "),r("v-flex",[r("v-btn",{attrs:{loading:e.loginLoading,color:"primary"},on:{click:e.login}},[r("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")]),e._v("\n                      "+e._s(e.$t("common.login"))+"\n                    ")])],1)],1)],1)],1)],1),e._v(" "),r("add-detail-dialog",{attrs:{show:e.showDialog,"login-message":e.loginMessage},on:{"update:show":function(t){e.showDialog=t}}})],1)],1),e._v(" "),r("v-footer",{attrs:{color:"#fbfbfb",height:"auto"}},[r("v-layout",[r("v-flex",{attrs:{"text-xs-center":""}})],1)],1)],1)],1)])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"logo"},[o("img",{attrs:{src:r("9d64"),alt:""}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"slogan-wrapper"},[o("div",{staticClass:"slogan"},[o("img",{attrs:{src:r("071c"),alt:""}})])])}],n=(r("96cf"),r("3b8d"));r("34ef"),r("4917"),r("386d"),r("a481"),r("6b54"),r("c5f6"),r("3b2b"),r("55dd"),r("28a5"),r("456d"),r("ac6a"),r("7618");function s(){return!!navigator.userAgent.match(/mobile/i)}var i=r("1dce"),l=r("b5ae"),c=r("e273"),d=r("e7cc"),u={name:"Login",components:{BaseLangbar:c["a"],AddDetailDialog:d["a"]},mixins:[i["validationMixin"]],validations:{form:{username:{required:l["required"]},password:{required:l["required"]}}},data:function(){return{currentYear:(new Date).getFullYear(),showDialog:!1,loginMessage:"",showPwd:!1,form:{username:"",password:""},loginLoading:!1}},computed:{isMobile:function(){return s()},userErrors:function(){var e=this.$v.form.username;return console.log(e),e.$dirty?e.required?"":"請輸入用户名":""},passErrors:function(){var e=this.$v.form.password;return e.$dirty?e.required?"":"請輸入密码":""}},methods:{login:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$v,t.$touch(),t.$error){e.next=7;break}return e.next=5,this.$api.login({loginId:this.form.username,loginPwd:this.form.password});case 5:r=e.sent,1300===r.responseCode?(this.showDialog=!0,this.loginMessage="用戶名或密碼輸入錯誤"):this.$router.push("/");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),redirectForgotPassword:function(){this.$router.push({name:"Password"})}}},v=u,f=(r("62cf"),r("2877")),g=r("6544"),p=r.n(g),m=r("7496"),h=r("8336"),w=r("a523"),_=r("549c"),b=r("0e8f"),$=r("553a"),y=r("4bd4"),x=r("a722"),k=r("2677"),C=Object(f["a"])(v,o,a,!1,null,null,null);t["default"]=C.exports;p()(C,{VApp:m["a"],VBtn:h["a"],VContainer:w["a"],VContent:_["a"],VFlex:b["a"],VFooter:$["a"],VForm:y["a"],VLayout:x["a"],VTextField:k["a"]})},e7cc:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"700"},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      錯誤\n    ")]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",[e._l(e.errorMessage,function(t,o){return r("p",{key:o,staticClass:"error--text"},[r("v-icon",{attrs:{color:"error"}},[e._v("error")]),e._v(e._s(t))],1)}),e._v(" "),e.loginMessage?r("p",{staticClass:"error--text"},[r("v-icon",{attrs:{color:"error"}},[e._v("error")]),e._v(e._s(e.loginMessage))],1):e._e()],2),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogShow=!1}}},[e._v("\n        确定\n      ")])],1)],1)],1)},a=[],n={name:"ProposalAddDetailDialog",props:{show:{type:Boolean,default:!1},message:{type:Array,default:function(){return[]}},loginMessage:{type:String,default:""}},data:function(){return{dialogShow:this.show,errorMessage:[]}},computed:{},watch:{show:function(e){this.dialogShow=e},message:function(e){this.errorMessage=e},loginMessage:function(e){this.loginMessage=e},dialogShow:function(e){this.$emit("update:show",e)}},created:function(){},methods:{}},s=n,i=r("2877"),l=r("6544"),c=r.n(l),d=r("8336"),u=r("b0af"),v=r("99d9"),f=r("12b2"),g=r("169a"),p=r("ce7e"),m=r("132d"),h=r("9910"),w=Object(i["a"])(s,o,a,!1,null,"197b123d",null);t["a"]=w.exports;c()(w,{VBtn:d["a"],VCard:u["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:f["a"],VDialog:g["a"],VDivider:p["a"],VIcon:m["a"],VSpacer:h["a"]})}}]);